#ifndef LLVM_LIB_TARGET_V810_V810SUBTARGET_H
#define LLVM_LIB_TARGET_V810_V810SUBTARGET_H

#include "V810FrameLowering.h"
#include "V810InstrInfo.h"
#include "V810ISelLowering.h"
#include "V810SelectionDAGInfo.h"
#include "llvm/CodeGen/SelectionDAGTargetInfo.h"
#include "llvm/CodeGen/TargetSubtargetInfo.h"

#define GET_SUBTARGETINFO_HEADER
#include "V810GenSubtargetInfo.inc"

namespace llvm {
class StringRef;

class V810Subtarget : public V810GenSubtargetInfo {
private:
  bool IsNintendo;
  bool EnableGPRelativeRAM;
  bool EnableAppRegisters;

  V810InstrInfo InstrInfo;
  V810TargetLowering TLInfo;
  V810SelectionDAGInfo TSInfo;
  V810FrameLowering FrameLowering;
public:
  V810Subtarget(const Triple &TT, const std::string &CPU,
                const std::string &FS, const TargetMachine &TM);

  const V810InstrInfo *getInstrInfo() const override { return &InstrInfo; }
  const V810FrameLowering *getFrameLowering() const override {
    return &FrameLowering;
  }
  const V810RegisterInfo *getRegisterInfo() const override {
    return &InstrInfo.getRegisterInfo();
  }
  const V810TargetLowering *getTargetLowering() const override {
    return &TLInfo;
  }
  const V810SelectionDAGInfo *getSelectionDAGInfo() const override {
    return &TSInfo;
  }

  bool isNintendo() const { return IsNintendo; }

  bool enableGPRelativeRAM() const { return EnableGPRelativeRAM; }

  bool enableAppRegisters() const { return EnableAppRegisters; }

  bool enableMachineScheduler() const override { return true; }

  /// ParseSubtargetFeatures - Parses features string setting specified
  /// subtarget options.  Definition of function is auto generated by tblgen.
  void ParseSubtargetFeatures(StringRef CPU, StringRef TuneCPU, StringRef FS);
  V810Subtarget &initializeSubtargetDependencies(const Triple &TT, StringRef CPU, StringRef FS);
};
}

#endif